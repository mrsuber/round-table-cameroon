"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[273],{1792:function(n,i,o){o.d(i,{Z:function(){return r}});o(2791);var e="KanbanLoading_container__5QdVb",t="KanbanLoading_content__fi5xO",l=o(184),r=function(n){var i=n.kanbanLoading,o=n.children,r=n.contentStyle,d=n.containerStyle;return(0,l.jsx)(l.Fragment,{children:i&&(0,l.jsx)("div",{className:e,style:d,children:(0,l.jsx)("div",{className:t,style:r,children:o})})})}},7084:function(n,i,o){o.r(i),o.d(i,{default:function(){return b}});var e=o(9439),t=o(2791),l=o(7808),r=o(1648),d="Projects_projectCards__ipCbR",u=o(9578),a=o(2570),c=o(1975),v=o(7689),s=o(9085),f=o(1792),p=o(1328),h=o(6039),j=o(184),b=function(){var n=(0,u.CG)((function(n){return n.auth})).user,i=(0,u.CG)((function(n){return n.projects})),o=i.projectError,b=i.projects,m=(0,t.useState)(""),g=(0,e.Z)(m,2),x=g[0],k=g[1],_=(0,t.useState)(null===b||void 0===b?void 0:b.data),C=(0,e.Z)(_,2),A=C[0],P=C[1],y=(0,t.useRef)(!0),Z=(0,t.useState)(!1),N=(0,e.Z)(Z,2),T=N[0],w=N[1],L=(0,t.useState)(""),E=(0,e.Z)(L,2),D=E[0],R=E[1],S=(0,u.TL)(),Y=(0,v.s0)(),z=function(){var i,e={role:null===n||void 0===n||null===(i=n.user)||void 0===i?void 0:i.role,token:null===n||void 0===n?void 0:n.accessToken};S((0,a.yY)(e)).then((function(n){if(o)return w(!1),s.Am.error(o);var i=n.payload;P(null===i||void 0===i?void 0:i.data),w(!1)}))};(0,t.useEffect)((function(){y.current&&(y.current=!1,w(!0),z())}),[]),(0,t.useEffect)((function(){if(x){var n=null===A||void 0===A?void 0:A.filter((function(n){var i;return null===n||void 0===n||null===(i=n.title)||void 0===i?void 0:i.toLowerCase().includes(x.toLowerCase())}));P(n)}else z()}),[x]);return(0,j.jsxs)(r.Z,{title:"Round Table  Projects",contributors:null===A||void 0===A?void 0:A.contributors,searchValue:x,onChange:function(n){return k(n.target.value)},showBack:!1,onClick:function(){var i;if("superAdmin"!==(null===n||void 0===n||null===(i=n.user)||void 0===i?void 0:i.role))return s.Am.error("You are not authorized to add a project");Y(c.Hb.ADMIN.ADDPROJECT)},actionText:"Add New Project",children:[(0,j.jsx)("div",{className:d,children:(null===A||void 0===A?void 0:A.length)>0?null===A||void 0===A?void 0:A.map((function(i){var o,e,t,r;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(l.Z,{title:null===i||void 0===i?void 0:i.title,image:null===i||void 0===i||null===(o=i.projectImage)||void 0===o?void 0:o.httpPath,contributors:null===i||void 0===i?void 0:i.contributors,labels:null===i||void 0===i?void 0:i.labels,fileNum:null===i||void 0===i?void 0:i.attachments.length,percentage:null===i||void 0===i?void 0:i.percentage,date:null===i||void 0===i?void 0:i.date,size:"23px",onClick:function(){return n=i._id,void Y("/admin/details/".concat(n));var n},projectId:i._id,width:"250px",style:{marginBottom:"20px",paddingBottom:"10px"},makeVisible:function(){return function(i){var o,e;if("superAdmin"!==(null===n||void 0===n||null===(o=n.user)||void 0===o?void 0:o.role))return s.Am.error("You are not authorized to change project visibility");R(i);var t={id:i,token:null===n||void 0===n?void 0:n.accessToken},l={role:null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.role,token:null===n||void 0===n?void 0:n.accessToken};S((0,a.Rv)(t)).then((function(){S((0,a.yY)(l)).then((function(n){var i=n.payload;P(null===i||void 0===i?void 0:i.data),w(!1),s.Am.success("Project Visibility Changed!"),R("")}))}))}(i._id)},onEdit:function(){return n=i._id,void Y("/admin/edit/".concat(n));var n},visibleLoading:D===i._id,publicProject:null===i||void 0===i?void 0:i.publicProject,isEditable:"superAdmin"===(null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.role)||(null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.projects.includes(null===i||void 0===i?void 0:i._id))||(null===n||void 0===n||null===(r=n.user)||void 0===r?void 0:r.managedProjects.includes(null===i||void 0===i?void 0:i._id))},"".concat(i._id," ").concat(null===i||void 0===i?void 0:i.title))})})):(0,j.jsx)(h.Z,{infoText:"No Projects Yet",onClick:function(){return Y(c.Hb.ADMIN.ADDPROJECT)},text:"Add New Project"})}),(0,j.jsx)(f.Z,{kanbanLoading:T,children:(0,j.jsx)(p.Z,{size:"18px"})})]})}},830:function(){}}]);
//# sourceMappingURL=273.20dce58b.chunk.js.map