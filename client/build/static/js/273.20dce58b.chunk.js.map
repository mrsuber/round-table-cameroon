{"version":3,"file":"static/js/273.20dce58b.chunk.js","mappings":"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","sources":["webpack://client/./src/components/admin/KandbanLoading/KanbanLoading.module.css?e88b","components/admin/KandbanLoading/KanbanLoading.component.tsx","webpack://client/./src/pages/admin/projects/Projects.module.css?4d76","pages/admin/projects/Projects.page.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"KanbanLoading_container__5QdVb\",\"content\":\"KanbanLoading_content__fi5xO\",\"close\":\"KanbanLoading_close__Qn-VV\"};","import React, { ChangeEvent, ReactNode } from 'react';\nimport classes from './KanbanLoading.module.css';\n\ninterface IProps {\n  kanbanLoading?: boolean;\n  children?: ReactNode | any;\n  contentStyle?: object\n  containerStyle?: object\n}\n\nconst KanbanLoading = ({ kanbanLoading, children, contentStyle, containerStyle }: IProps) => {\n  return (\n    <>\n      {kanbanLoading && (\n        <div className={classes.container} style={containerStyle}>\n          <div className={classes.content} style={contentStyle}>{children}</div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default KanbanLoading;\n","// extracted by mini-css-extract-plugin\nexport default {\"projectCards\":\"Projects_projectCards__ipCbR\",\"container\":\"Projects_container__x8XT9\"};","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport AdminHeader from '../../../components/admin/admin-header/AdminHeader';\nimport ProjectCard from '../../../components/admin/project-card/ProjectCard';\nimport AdminLayout from '../../../layouts/Admin.layout';\nimport AdminSection from '../../../components/admin/admin-section/AdminSection.component';\nimport classes from './Projects.module.css';\nimport { useAppDispatch, useAppSelector } from '../../../store';\nimport {\n  getProjectsAction,\n  toggleProjectVisibilityAction,\n} from '../../../store/features/slices/projects/projects.action';\nimport { contributors } from '../../../assets/data/contributors';\nimport Button from '../../../components/admin/button/Button.component';\nimport { paths } from '../../../routers/paths';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport KanbanLoading from '../../../components/admin/KandbanLoading/KanbanLoading.component';\nimport Spinner from '../../../components/loaders/spinner/Spinner';\nimport NoData from '../../../components/admin/no-data/NoData.component';\n\nconst Projects = () => {\n  const { user } = useAppSelector((state) => state.auth);\n  const { projectError, projects } = useAppSelector((state) => state.projects);\n  const [value, setValue] = useState<string>('');\n  const [allProjectsDashboard, setAllDashboardProjects] = useState<any>(projects?.data);\n  const effectRef = useRef<boolean>(true);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [visibleLoading, setVisibleLoading] = useState<string>('');\n\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n\n  const getAllProjects = () => {\n    const data = {\n      role: user?.user?.role,\n      token: user?.accessToken,\n    };\n    dispatch(getProjectsAction(data)).then((res: any) => {\n      if (projectError) {\n        setLoading(false);\n        return toast.error(projectError);\n      }\n      const { payload } = res;\n      setAllDashboardProjects(payload?.data);\n      setLoading(false);\n    });\n  };\n\n  useEffect(() => {\n    if (effectRef.current) {\n      effectRef.current = false;\n      setLoading(true);\n      getAllProjects();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (value) {\n      const filtered = allProjectsDashboard?.filter((project: any) =>\n        project?.title?.toLowerCase().includes(value.toLowerCase()),\n      );\n      setAllDashboardProjects(filtered);\n    } else {\n      getAllProjects();\n    }\n  }, [value]);\n\n  const handleMakeVisible = (projectId: string) => {\n    if (user?.user?.role !== 'superAdmin')\n      return toast.error('You are not authorized to change project visibility');\n    setVisibleLoading(projectId);\n    const data = {\n      id: projectId,\n      token: user?.accessToken,\n    };\n    const projectData = {\n      role: user?.user?.role,\n      token: user?.accessToken,\n    };\n    dispatch(toggleProjectVisibilityAction(data)).then(() => {\n      dispatch(getProjectsAction(projectData)).then((res: any) => {\n        const { payload } = res;\n        setAllDashboardProjects(payload?.data);\n        setLoading(false);\n        toast.success('Project Visibility Changed!');\n        setVisibleLoading('');\n      });\n    });\n  };\n\n  const handleAddNavigate = () => {\n    if (user?.user?.role !== 'superAdmin')\n      return toast.error('You are not authorized to add a project');\n    navigate(paths.ADMIN.ADDPROJECT);\n  };\n\n  const handleViewProjectDetails = (projectId: string) => {\n    navigate(`/admin/details/${projectId}`);\n  };\n\n  const handleEditProject = (projectId: string) => {\n    navigate(`/admin/edit/${projectId}`);\n  };\n\n  return (\n    <AdminLayout\n      title='Round Table  Projects'\n      contributors={allProjectsDashboard?.contributors}\n      searchValue={value}\n      onChange={(e) => setValue(e.target.value)}\n      showBack={false}\n      onClick={handleAddNavigate}\n      actionText='Add New Project'\n    >\n      <div className={classes.projectCards}>\n        {allProjectsDashboard?.length > 0 ? (\n          allProjectsDashboard?.map((pro: any) => (\n            <>\n              <ProjectCard\n                key={`${pro._id} ${pro?.title}`}\n                title={pro?.title}\n                image={pro?.projectImage?.httpPath}\n                contributors={pro?.contributors}\n                labels={pro?.labels}\n                fileNum={pro?.attachments.length}\n                percentage={pro?.percentage}\n                date={pro?.date}\n                size='23px'\n                onClick={() => handleViewProjectDetails(pro._id)}\n                projectId={pro._id}\n                width='250px'\n                style={{ marginBottom: '20px', paddingBottom: '10px' }}\n                makeVisible={() => handleMakeVisible(pro._id)}\n                onEdit={() => handleEditProject(pro._id)}\n                visibleLoading={visibleLoading === pro._id}\n                publicProject={pro?.publicProject}\n                isEditable={\n                  user?.user?.role === 'superAdmin' ||\n                  user?.user?.projects.includes(pro?._id) ||\n                  user?.user?.managedProjects.includes(pro?._id)\n                }\n              />\n            </>\n          ))\n        ) : (\n          <NoData\n            infoText='No Projects Yet'\n            onClick={() => navigate(paths.ADMIN.ADDPROJECT)}\n            text='Add New Project'\n          />\n        )}\n      </div>\n      <KanbanLoading kanbanLoading={loading}>\n        <Spinner size='18px' />\n      </KanbanLoading>\n    </AdminLayout>\n  );\n};\n\nexport default Projects;\n"],"names":["kanbanLoading","children","contentStyle","containerStyle","className","classes","style","user","useAppSelector","state","auth","projects","projectError","useState","value","setValue","data","allProjectsDashboard","setAllDashboardProjects","effectRef","useRef","loading","setLoading","visibleLoading","setVisibleLoading","dispatch","useAppDispatch","navigate","useNavigate","getAllProjects","role","token","accessToken","getProjectsAction","then","res","toast","error","payload","useEffect","current","filtered","filter","project","title","toLowerCase","includes","contributors","searchValue","onChange","e","target","showBack","onClick","paths","ADMIN","ADDPROJECT","actionText","length","map","pro","ProjectCard","image","projectImage","httpPath","labels","fileNum","attachments","percentage","date","size","projectId","_id","width","marginBottom","paddingBottom","makeVisible","id","projectData","toggleProjectVisibilityAction","success","handleMakeVisible","onEdit","publicProject","isEditable","managedProjects","infoText","text","Spinner"],"sourceRoot":""}