"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[174],{1792:function(e,n,t){t.d(n,{Z:function(){return s}});t(2791);var i="KanbanLoading_container__5QdVb",a="KanbanLoading_content__fi5xO",o=t(184),s=function(e){var n=e.kanbanLoading,t=e.children,s=e.contentStyle,l=e.containerStyle;return(0,o.jsx)(o.Fragment,{children:n&&(0,o.jsx)("div",{className:i,style:l,children:(0,o.jsx)("div",{className:a,style:s,children:t})})})}},202:function(e,n,t){t.r(n);var i=t(3433),a=t(9439),o=t(2791),s=t(3590),l=t(3514),r=t(1648),c=t(9950),d=t(3347),u=t(2425),v=t(4963),p=t(9632),x=t(9624),m=t(9578),f=t(564),h=t(6586),g=t(5600),j=t(2570),Z=t(7689),y=t(1792),b=t(1328),N=t(5055),S=t(9085),k=t(184);n.default=function(){var e=(0,m.CG)((function(e){return e.members})).members,n=(0,m.CG)((function(e){return e.auth})).user,t=(0,m.CG)((function(e){return e.loader})).loading,C=(0,m.TL)(),A=(0,o.useRef)(!0),T=(0,o.useState)(""),P=(0,a.Z)(T,2),I=P[0],D=P[1],w=(0,o.useState)(""),z=(0,a.Z)(w,2),M=z[0],L=z[1],_=(0,o.useState)(),R=(0,a.Z)(_,2),B=R[0],E=R[1],F=(0,o.useState)(""),O=(0,a.Z)(F,2),U=O[0],Y=O[1],J=(0,o.useState)([]),G=(0,a.Z)(J,2),V=G[0],H=G[1],K=(0,o.useState)([]),Q=(0,a.Z)(K,2),W=Q[0],X=Q[1],q=(0,o.useState)([]),$=(0,a.Z)(q,2),ee=$[0],ne=$[1],te=(0,o.useState)(W),ie=(0,a.Z)(te,2),ae=(ie[0],ie[1]),oe=(0,o.useState)([]),se=(0,a.Z)(oe,2),le=se[0],re=se[1],ce=(0,o.useState)([]),de=(0,a.Z)(ce,2),ue=(de[0],de[1]),ve=(0,o.useState)([]),pe=(0,a.Z)(ve,2),xe=pe[0],me=pe[1],fe=(0,o.useState)(!1),he=(0,a.Z)(fe,2),ge=he[0],je=he[1],Ze=(0,o.useState)(!1),ye=(0,a.Z)(Ze,2),be=ye[0],Ne=ye[1],Se=(0,o.useState)(!1),ke=(0,a.Z)(Se,2),Ce=ke[0],Ae=ke[1],Te=(0,o.useState)(!1),Pe=(0,a.Z)(Te,2),Ie=Pe[0],De=Pe[1],we=(0,o.useState)([]),ze=(0,a.Z)(we,2),Me=ze[0],Le=ze[1],_e=(0,Z.s0)(),Re=(0,Z.UO)().id,Be=(0,o.useState)(""),Ee=(0,a.Z)(Be,2),Fe=(Ee[0],Ee[1]),Oe=(0,o.useState)(ee),Ue=(0,a.Z)(Oe,2),Ye=(Ue[0],Ue[1]),Je=(0,o.useState)("Add Contributor"),Ge=(0,a.Z)(Je,2),Ve=Ge[0],He=Ge[1],Ke=(0,o.useState)("Add Assignees"),Qe=(0,a.Z)(Ke,2),We=(Qe[0],Qe[1]),Xe=(0,o.useState)(),qe=(0,a.Z)(Xe,2),$e=qe[0],en=qe[1],nn=(0,o.useState)(),tn=(0,a.Z)(nn,2),an=(tn[0],tn[1]),on=(0,o.useState)(),sn=(0,a.Z)(on,2),ln=sn[0],rn=sn[1],cn=(0,o.useRef)(),dn=(0,o.useState)(!1),un=(0,a.Z)(dn,2),vn=un[0],pn=un[1],xn=(0,o.useState)(!1),mn=(0,a.Z)(xn,2),fn=(mn[0],mn[1]),hn=(0,o.useState)("Add Project Manager"),gn=(0,a.Z)(hn,2),jn=gn[0],Zn=gn[1],yn=function(){var e={id:Re,token:null===n||void 0===n?void 0:n.accessToken};C((0,j.xJ)(e)).then((function(e){var n,t,i,a,o,s,l,r,c,d,u,v;D(null===e||void 0===e||null===(n=e.payload)||void 0===n?void 0:n.title),L(null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.description),rn(null===e||void 0===e||null===(i=e.payload)||void 0===i||null===(a=i.projectImage)||void 0===a?void 0:a.httpPath),je(null===e||void 0===e||null===(o=e.payload)||void 0===o?void 0:o.publicProject),re(null===e||void 0===e||null===(s=e.payload)||void 0===s?void 0:s.labels),Ae(null===e||void 0===e||null===(l=e.payload)||void 0===l?void 0:l.ongoing),H(null===e||void 0===e||null===(r=e.payload)||void 0===r?void 0:r.projectManager),ne(null===e||void 0===e||null===(c=e.payload)||void 0===c?void 0:c.contributors),Y(null===e||void 0===e||null===(d=e.payload)||void 0===d?void 0:d.createdAt);var p=new Date(null===e||void 0===e||null===(u=e.payload)||void 0===u?void 0:u.createdAt);Y("".concat(p.getDate(),"/").concat(p.getMonth()+1,"/").concat(p.getFullYear())),me(null===e||void 0===e||null===(v=e.payload)||void 0===v?void 0:v.attachments)}))};(0,o.useEffect)((function(){A.current&&(A.current=!1,yn())}),[]);var bn=function(){D(""),L(""),E(""),Y(""),H([]),X([]),ne([]),ae([]),re([]),ue([]),me([]),je(!1),Ye([]),He("Add Contributor"),We("Add Assignees"),en(null),an(""),rn("")};(0,o.useEffect)((function(){A.current&&(A.current=!1,C((0,f.XT)({pageNumber:0,limit:1e3})))}),[Re]);var Nn=function(e){var t=new FormData;t.append("image",e),t.append("projectId",String(Re));var i={formData:t,token:null===n||void 0===n?void 0:n.accessToken};C((0,j.Je)(i)).then((function(e){yn(),S.Am.success("project image updated successfully")}))},Sn=function(e){var t={content:{projectId:Re,filepath:e},token:null===n||void 0===n?void 0:n.accessToken};C((0,j.B)(t)).then((function(){yn(),S.Am.success("Attachment Deleted!"),fn(!1)}))};return(0,k.jsxs)(r.Z,{onClick:function(){var e={content:{projectId:Re,title:I,description:M,projectImage:B,publicProject:ge,ongoing:Ce,date:U,projectManager:V,projectMembers:W,labels:le,attachments:xe},token:null===n||void 0===n?void 0:n.accessToken};C((0,j.PL)(e)).then((function(e){var n=e.payload;Array.isArray(null===n||void 0===n?void 0:n.errors)?null===n||void 0===n||n.errors.forEach((function(e){return S.Am.error(e)})):(S.Am.success("Project Updated Successfully"),_e(-1)),bn()}))},actionText:"Edit Project",title:I,children:[(0,k.jsxs)("div",{className:N.Z.container,children:[(0,k.jsxs)("div",{className:N.Z.column,children:[(0,k.jsxs)("div",{className:N.Z.content,style:{padding:"8px 14px"},children:[(0,k.jsx)(l.Z,{placeholder:"Project Title",onChange:function(e){return D(e.target.value)},value:I,border:be?"0.8px solid rgba(0, 101, 87, 0.5)":"0.8px solid rgba(0, 101, 87, 0.2)",onFocus:function(){return Ne(!0)},onBlur:function(){return Ne(!1)}}),(0,k.jsx)(u.Z,{placeholder:"Description...",style:{marginBottom:"14px",boxShadow:"none",border:"0.8px solid rgba(0, 101, 87, 0.2)"},value:M,onChange:function(e){return L(e.target.value)},width:"100%"}),(0,k.jsxs)("div",{className:N.Z.coverPreview,children:[(0,k.jsx)(s.FD,{size:"16px",color:"#868686",style:{margin:"6px 10px"}}),(0,k.jsx)("input",{id:"cover",onChange:function(e){if(e.target.files){var n=URL.createObjectURL(e.target.files[0]);rn(n),E(e.target.files[0]),me((function(n){return[].concat((0,i.Z)(n),[e.target.files[0]])})),Nn(e.target.files[0])}},type:"file",className:N.Z.fileInput}),(0,k.jsx)("label",{htmlFor:"cover",className:N.Z.projectImage,children:(0,k.jsx)("img",{src:null!==ln&&void 0!==ln?ln:g,alt:"project-image",crossOrigin:"anonymous"})})]}),(0,k.jsxs)("div",{className:N.Z.type,children:[(0,k.jsx)("div",{style:{marginRight:"14px"},className:N.Z.managerText,children:"Public Project :"})," ",(0,k.jsxs)("div",{style:{display:"flex",alignItems:"center"},onClick:function(){return je(!ge)},children:[(0,k.jsx)("span",{className:N.Z.managerText,children:"Yes"}),ge?(0,k.jsx)(s.YJ,{size:"10",style:{marginLeft:"10px"}}):(0,k.jsx)(s.cb,{size:"11",style:{marginLeft:"10px"},color:"",borderColor:"#B0E4DD"})]})]}),(0,k.jsxs)("div",{className:N.Z.type,style:{margin:"16px 0"},children:[(0,k.jsx)("div",{style:{marginRight:"14px"},className:N.Z.managerText,children:"Ongoing Project :"})," ",(0,k.jsxs)("div",{style:{display:"flex",alignItems:"center"},onClick:function(){return Ae(!Ce)},children:[(0,k.jsx)("span",{className:N.Z.managerText,children:"Yes"}),Ce?(0,k.jsx)(s.YJ,{size:"10",style:{marginLeft:"10px"}}):(0,k.jsx)(s.cb,{size:"11",style:{marginLeft:"10px"},color:"",borderColor:"#B0E4DD"})]})]}),(0,k.jsxs)("div",{className:N.Z.type,children:[(0,k.jsx)("span",{style:{marginRight:"40px"},className:N.Z.managerText,children:"Due Date:"}),Ie?(0,k.jsx)(l.Z,{border:"",type:"date",value:U,onChange:function(e){return Y(e.target.value)},style:{cursor:"pointer"}}):(0,k.jsx)("div",{style:{cursor:"pointer"},className:N.Z.managerText,onClick:function(){return De(!0)},children:U})]})]}),(0,k.jsxs)("div",{className:N.Z.content,children:[(0,k.jsx)("h3",{className:N.Z.membersText,children:"Project Managers"}),(0,k.jsx)("div",{className:N.Z.selectedMembers,style:{marginBottom:"16px"},children:null===V||void 0===V?void 0:V.map((function(e){var t;return(0,k.jsxs)("div",{className:N.Z.ownerMini,style:{margin:"10px 10px 0px 0"},children:[(0,k.jsx)(d.Z,{size:"18px",src:null===e||void 0===e||null===(t=e.profileImage)||void 0===t?void 0:t.httpPath}),(0,k.jsx)("span",{style:{margin:"0 10px",fontSize:"11px"},children:"".concat(e.firstName," ").concat(e.lastName)}),(0,k.jsx)(s.Tw,{size:"8",onClick:function(){return function(e){var t={content:{projectId:Re,managerId:null===e||void 0===e?void 0:e._id},token:null===n||void 0===n?void 0:n.accessToken};C((0,j.yC)(t)).then((function(e){var n=e.payload;null!==n&&void 0!==n&&n.status&&400===(null===n||void 0===n?void 0:n.status)?S.Am.error(null===n||void 0===n?void 0:n.message):(console.log(n),yn(),S.Am.success("Manager Sucessfully Deleted!"),Zn("Add Project Manager"))}))}(e)}})]},e._id)}))}),(0,k.jsx)(x.Z,{text:jn,renderIconLeft:function(){return(0,k.jsx)(s.Fu,{})},renderIconRight:function(){return(0,k.jsx)(s.C4,{})},options:null===e||void 0===e?void 0:e.data,id:"firstName",id2:"lastName",headerStyle:{padding:"14px"},handleOption:function(e){return function(e){if(!V.includes(e)&&!V.includes(e._id)){var t={content:{projectId:Re,managerId:null===e||void 0===e?void 0:e._id},token:null===n||void 0===n?void 0:n.accessToken};C((0,j.R9)(t)).then((function(){yn(),S.Am.success("Manager Sucessfully Added!"),Zn("Add Project Manager")}))}}(e)},nullCheckValue:!1})]}),(0,k.jsxs)("div",{className:N.Z.content,children:[(0,k.jsx)("h3",{className:N.Z.membersText,children:"Project Contibutors"}),(0,k.jsx)("div",{className:N.Z.selectedMembers,children:null===ee||void 0===ee?void 0:ee.map((function(e){var t;return(0,k.jsxs)("div",{className:N.Z.ownerMini,style:{margin:"10px 10px 0px 0"},children:[(0,k.jsx)(d.Z,{size:"18px",src:null===e||void 0===e||null===(t=e.profileImage)||void 0===t?void 0:t.httpPath}),(0,k.jsx)("span",{style:{margin:"0 10px",fontSize:"11px"},children:"".concat(e.firstName," ").concat(e.lastName)}),(0,k.jsx)(s.Tw,{size:"8",onClick:function(){return function(e){var t={content:{projectId:Re,contributorId:null===e||void 0===e?void 0:e._id},token:null===n||void 0===n?void 0:n.accessToken};C((0,j.Zf)(t)).then((function(e){var n=e.payload;if(null!==n&&void 0!==n&&n.status&&400===(null===n||void 0===n?void 0:n.status))return S.Am.error(null===n||void 0===n?void 0:n.message);yn(),S.Am.success("Contributor Sucessfully Deleted!"),He("Add Contributor")}))}(e)}})]},e._id)}))}),(0,k.jsx)(x.Z,{text:Ve,renderIconLeft:function(){return(0,k.jsx)(s.rL,{})},options:null===e||void 0===e?void 0:e.data,id:"firstName",id2:"lastName",headerStyle:{padding:"14px 7px",justifyContent:"flex-start",marginTop:"20px"},textStyle:{marginLeft:"20px"},handleOption:function(e){return function(e){Fe(""),ee.includes(e)||W.includes(e._id)||(X((function(n){return[].concat((0,i.Z)(n),[e._id])})),Le((function(n){return[].concat((0,i.Z)(n),[e])})),He("Add Contributor"))}(e)},nullCheckValue:!1,headerRef:cn}),(null===Me||void 0===Me?void 0:Me.length)>0&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{style:{fontSize:"13px",marginTop:"16px"},children:"Members to Add"}),(0,k.jsx)("div",{className:N.Z.selectedMembers,children:null===Me||void 0===Me?void 0:Me.map((function(e){var n;return(0,k.jsxs)("div",{className:N.Z.ownerMini,style:{margin:"10px 10px 0px 0",backgroundColor:"#f0f0f0",opacity:.8,borderRadius:"8px"},children:[(0,k.jsx)(d.Z,{size:"18px",src:null===e||void 0===e||null===(n=e.profileImage)||void 0===n?void 0:n.httpPath}),(0,k.jsx)("span",{style:{margin:"0 10px",fontSize:"11px"},children:"".concat(e.firstName," ").concat(e.lastName)}),(0,k.jsx)(s.Tw,{size:"8",onClick:function(){return function(e){var n=(0,h.E)(Me,e);Le(n);var t=(0,h.E)(Me,e._id);X(t)}(e)}})]},e._id)}))})]}),(0,k.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,k.jsx)(v.Z,{text:"Save Contibutors",width:"50%",margin:"20px 0 0",onClick:function(){var e={content:{projectId:Re,contributorId:W},token:null===n||void 0===n?void 0:n.accessToken};C((0,j.jx)(e)).then((function(){yn(),S.Am.success("Contributors Sucessfully Added!"),Zn("Add Project Manager")}))},loading:t,spinnerSize:"13px"})})]})]}),(0,k.jsxs)("div",{className:N.Z.content,style:{height:"260px",flex:"40%",minHeight:"auto"},children:[(0,k.jsx)("div",{className:N.Z.labelHeader,children:(0,k.jsx)("h3",{className:N.Z.membersText,children:"Label"})}),c.o.map((function(e){return(0,k.jsxs)("div",{className:N.Z.projectType,onClick:function(){return function(e){var n=(0,i.Z)(le);if(le.includes(e.type)){var t=n.indexOf(e);n.splice(t,1),re(n),en(null)}else en(e.id),re((function(n){return[].concat((0,i.Z)(n),[e.type])}))}(e)},children:[(0,k.jsx)("span",{className:N.Z.typeText,children:e.type}),(0,k.jsx)(s.cb,{color:($e===e.id||null!==le&&void 0!==le&&le.includes(e.type))&&(null===le||void 0===le?void 0:le.length)>0?"#003B33":"",style:{border:"1px solid #BDBDBD",borderRadius:"50%"},size:"14"})]},e.id)}))]}),(0,k.jsx)("div",{className:N.Z.column,children:(0,k.jsxs)("div",{className:N.Z.content,children:[(0,k.jsx)("div",{className:"".concat(N.Z.membersText," ").concat(N.Z.attachText),children:"File Attachment"}),(0,k.jsx)(p.Z,{attachments:xe,onChange:function(e){me((function(n){return[].concat((0,i.Z)(n),[e])}))},onDownload:function(e){var n=document.createElement("a");n.download=null===e||void 0===e?void 0:e.httpPath,n.href=null===e||void 0===e?void 0:e.httpPath,n.target="_blank",n.click()},onDeleteAttachment:function(e){if(fn(!0),null!==e&&void 0!==e&&e.httpPath)Sn(e.httpPath);else{var n=(0,h.E)(xe,e);me(n),fn(!1)}}}),(0,k.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,k.jsx)(v.Z,{text:"Upload Attchments",width:"50%",margin:"20px 0 0",onClick:function(){pn(!0);for(var e=new FormData,t=0;t<xe.length;t++)e.append("attachments",xe[t]);var i={content:e,id:Re,token:null===n||void 0===n?void 0:n.accessToken};C((0,j.TW)(i)).then((function(){yn(),pn(!1)}))},loading:vn,spinnerSize:"13px"})})]})})]}),(0,k.jsx)(y.Z,{kanbanLoading:t,children:(0,k.jsx)(b.Z,{size:"20px"})})]})}}}]);
//# sourceMappingURL=174.bf82d9f0.chunk.js.map