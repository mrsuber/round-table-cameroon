"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[966],{1792:function(n,t,e){e.d(t,{Z:function(){return o}});e(2791);var i="KanbanLoading_container__5QdVb",a="KanbanLoading_content__fi5xO",r=e(184),o=function(n){var t=n.kanbanLoading,e=n.children,o=n.contentStyle,s=n.containerStyle;return(0,r.jsx)(r.Fragment,{children:t&&(0,r.jsx)("div",{className:i,style:s,children:(0,r.jsx)("div",{className:a,style:o,children:e})})})}},2478:function(n,t,e){e.r(t),e.d(t,{default:function(){return A}});var i=e(4165),a=e(5861),r=e(9439),o=e(2791),s=e(1648),c=e(9578),d=e(1792),l=e(1328),u="donation-table_table__AhxEn",h=e(184),x=function(n){var t=n.donations,e=n.allDonations;return(0,h.jsxs)("table",{className:u,children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{style:{width:"15%"},children:"Donated By"}),(0,h.jsx)("th",{style:{width:"15%"},children:"Donated Amount"}),(0,h.jsx)("th",{style:{width:"15%"},children:"Authorized Amount"}),(0,h.jsx)("th",{style:{width:"15%"},children:"Engaged Amount"}),(0,h.jsx)("th",{style:{width:"40%"},children:"Purpose"})]})}),(0,h.jsxs)("tbody",{children:[t&&t.map((function(n,t){return(0,h.jsxs)("tr",{style:n.isTransaction?{borderBottom:"1px solid #ccc",color:"red"}:{borderBottom:"1px solid #ccc"},children:[(0,h.jsx)("td",{style:{width:"15%"},children:n.donatedBy}),(0,h.jsx)("td",{style:{width:"15%"},children:n.isTransaction?"":"".concat(n.donatedAmount," FCFA")}),(0,h.jsx)("td",{style:{width:"15%"},children:n.isTransaction?"":"".concat(n.receivedAmount," FCFA")}),(0,h.jsx)("td",{style:{width:"15%"},children:n.isTransaction?"".concat(n.engagedAmount," FCFA"):""}),(0,h.jsx)("td",{style:{width:"40%"},children:n.purpose})]},t)})),(0,h.jsxs)("tr",{style:{borderBottom:"1px solid #ccc"},children:[(0,h.jsx)("td",{}),(0,h.jsx)("td",{}),(0,h.jsx)("td",{}),(0,h.jsx)("td",{})]}),(0,h.jsxs)("tr",{style:{borderBottom:"1px solid #ccc"},children:[(0,h.jsx)("td",{style:{width:"15%"},children:"Total"}),(0,h.jsxs)("td",{style:{width:"15%"},children:[e&&e.reduce((function(n,t){return n+t.donatedAmount}),0)," FCFA"]}),(0,h.jsxs)("td",{style:{width:"15%"},children:[e&&e.reduce((function(n,t){return n+t.receivedAmount}),0)," FCFA"]}),(0,h.jsxs)("td",{style:{width:"15%"},children:[e&&e.reduce((function(n,t){return n+t.engagedAmount}),0)," FCFA"]}),(0,h.jsx)("td",{style:{width:"40%"}})]})]})]})},f=e(2463),j=e(1975),v=e(7689),g=e(8907),p="pagination_paginationContainer__cwrdh",m="pagination_paginationButton__9Nk9a",y="pagination_paginationText__aVVMh",w=function(n){var t=n.totalPages,e=n.onPageChange,i=(0,o.useState)(1),a=(0,r.Z)(i,2),s=a[0],c=a[1];return(0,h.jsxs)("div",{className:p,children:[s>1&&(0,h.jsx)("button",{onClick:function(){s>1&&(c((function(n){return n-1})),e(s-1))},className:m,children:"Previous"}),(0,h.jsxs)("span",{className:y,children:["Page ",s," of ",t]}),s<t&&(0,h.jsx)("button",{onClick:function(){s<t&&(c((function(n){return n+1})),e(s+1))},className:m,children:"Next"})]})},A=function(){var n=(0,c.CG)((function(n){return n.loader})).loading,t=(0,c.CG)((function(n){return n.donations})).donations,e=(0,o.useState)(null===t||void 0===t?void 0:t.data),u=(0,r.Z)(e,2),p=u[0],m=u[1],y=(0,o.useState)(),A=(0,r.Z)(y,2),b=A[0],C=A[1],_=(0,o.useState)(1),F=(0,r.Z)(_,2),k=(F[0],F[1],(0,o.useState)("")),Z=(0,r.Z)(k,2),T=Z[0],N=Z[1],B=(0,o.useState)(0),S=(0,r.Z)(B,2),D=S[0],P=S[1],L=(0,c.TL)(),E=(0,v.s0)(),I=function(){L((0,f.al)()).then((function(n){var t=n.payload;if(t){var e=null===t||void 0===t?void 0:t.data.map((function(n){return{donatedBy:n.donatedBy,donatedAmount:n.amount,receivedAmount:Math.floor(.9615384615384616*n.amount),purpose:n.purpose,isTransaction:n.isTransaction,engagedAmount:n.isTransaction?n.engagedAmount:0}}));m(e),C(e.slice(0,10))}}))};return(0,o.useEffect)((function(){I()}),[]),(0,o.useEffect)((function(){if(T){var n=null===p||void 0===p?void 0:p.filter((function(n){var t;return null===(t=String(null===n||void 0===n?void 0:n.amount))||void 0===t?void 0:t.toLowerCase().includes(T.toLowerCase())}));m(n)}else I()}),[T]),(0,o.useEffect)((function(){var n=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(){var t,e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(g.FP+"/donations/vallet-pay-balance");case 3:return t=n.sent,n.next=6,t.json();case 6:e=n.sent,P(e.balance),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error("Error fetching data:",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();n();var t=setInterval(n,6e4);return function(){return clearInterval(t)}}),[]),(0,h.jsxs)(s.Z,{title:"Donations",showBack:!0,actionText:"Donate",onClick:function(){return E(j.Hb.DONATIONS)},searchValue:T,onChange:function(n){return N(n.target.value)},children:[(0,h.jsx)(x,{donations:b,allDonations:p}),(0,h.jsxs)("div",{style:{margin:"30px 0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,h.jsx)("div",{children:(0,h.jsxs)("h1",{children:["Current balance in wallet: ",D," FCFA"]})}),(0,h.jsx)("div",{children:(0,h.jsx)(w,{totalPages:Math.ceil(p.length/10),onPageChange:function(n){var t=10*(n-1),e=t+10;C(p.slice(t,e))}})})]}),(0,h.jsx)(d.Z,{kanbanLoading:n,children:(0,h.jsx)(l.Z,{size:"18px"})})]})}},830:function(){}}]);
//# sourceMappingURL=966.02e4105c.chunk.js.map