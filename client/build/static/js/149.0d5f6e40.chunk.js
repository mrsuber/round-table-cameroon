"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[149],{1149:function(e,n,t){t.r(n);var s=t(3433),a=t(9439),r=t(2791),i=t(3590),c=t(3514),l=t(1648),o=t(9950),d=t(3347),u=t(2425),x=t(4963),m=t(9632),p=t(9624),f=t(9578),h=t(564),v=t(5055),g=t(6586),j=t(5600),Z=t(2570),N=t(9085),y=t(4680),b=t(7689),S=t(1975),C=t(184);n.default=function(){var e=(0,f.CG)((function(e){return e.members})).members,n=(0,f.CG)((function(e){return e.auth})).user,t=(0,f.CG)((function(e){return e.projects})),T=t.projectError,k=t.successMessage,D=(0,f.CG)((function(e){return e.loader})).loading,w=(0,f.TL)(),A=(0,r.useRef)(!0),z=(0,r.useState)(""),I=(0,a.Z)(z,2),M=I[0],L=I[1],E=(0,r.useState)(""),B=(0,a.Z)(E,2),R=B[0],P=B[1],_=(0,r.useState)(),O=(0,a.Z)(_,2),F=O[0],J=O[1],G=(0,r.useState)(""),V=(0,a.Z)(G,2),Y=V[0],H=V[1],U=(0,r.useState)([]),X=(0,a.Z)(U,2),q=X[0],K=X[1],Q=(0,r.useState)([]),W=(0,a.Z)(Q,2),$=W[0],ee=W[1],ne=(0,r.useState)([]),te=(0,a.Z)(ne,2),se=te[0],ae=te[1],re=(0,r.useState)([]),ie=(0,a.Z)(re,2),ce=ie[0],le=ie[1],oe=(0,r.useState)($),de=(0,a.Z)(oe,2),ue=de[0],xe=de[1],me=(0,r.useState)([]),pe=(0,a.Z)(me,2),fe=pe[0],he=pe[1],ve=(0,r.useState)([]),ge=(0,a.Z)(ve,2),je=ge[0],Ze=ge[1],Ne=(0,r.useState)(""),ye=(0,a.Z)(Ne,2),be=ye[0],Se=ye[1],Ce=(0,r.useState)(""),Te=(0,a.Z)(Ce,2),ke=Te[0],De=Te[1],we=(0,r.useState)([]),Ae=(0,a.Z)(we,2),ze=Ae[0],Ie=Ae[1],Me=(0,r.useState)(!1),Le=(0,a.Z)(Me,2),Ee=Le[0],Be=Le[1],Re=(0,r.useState)(!1),Pe=(0,a.Z)(Re,2),_e=Pe[0],Oe=Pe[1],Fe=(0,r.useState)(!1),Je=(0,a.Z)(Fe,2),Ge=Je[0],Ve=Je[1],Ye=(0,r.useState)(!1),He=(0,a.Z)(Ye,2),Ue=He[0],Xe=He[1],qe=(0,b.s0)();(0,r.useEffect)((function(){A.current&&(A.current=!1,w((0,h.XT)({pageNumber:0,limit:1e3})))}),[]);var Ke={title:M,publicProject:Ee,date:Y,ongoing:Ue},Qe=(0,r.useState)(""),We=(0,a.Z)(Qe,2),$e=We[0],en=We[1],nn=(0,r.useState)(ce),tn=(0,a.Z)(nn,2),sn=tn[0],an=tn[1],rn=(0,r.useState)("Add Member"),cn=(0,a.Z)(rn,2),ln=cn[0],on=cn[1],dn=(0,r.useState)("Add Assignees"),un=(0,a.Z)(dn,2),xn=un[0],mn=un[1],pn=(0,r.useState)(),fn=(0,a.Z)(pn,2),hn=fn[0],vn=fn[1],gn=(0,r.useState)(),jn=(0,a.Z)(gn,2),Zn=jn[0],Nn=jn[1],yn=(0,r.useState)(),bn=(0,a.Z)(yn,2),Sn=bn[0],Cn=bn[1],Tn=(0,r.useRef)(),kn=function(){L(""),P(""),J(""),H(""),K([]),ee([]),le([]),xe([]),he([]),Ze([]),Ie([]),Be(!1),an([]),on("Add Member"),mn("Add Assignees"),vn(null),Nn(""),Cn("")},Dn=function(e){var n=(0,g.E)(je,e);Ze(n)},wn=(0,r.useCallback)((function(){return function(e){ze.find((function(n){return n.name===e.name}))||Ie((function(n){return[].concat((0,s.Z)(n),[e])}))}}),[ze]);return(0,C.jsxs)(l.Z,{children:[(0,C.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,C.jsx)(x.Z,{text:"Add Project",style:{alignSelf:"right",marginBottom:"25px"},width:"12%",onClick:function(){var e=new FormData;e.append("projectInfo",JSON.stringify(Ke)),e.append("projectImage",F);for(var t=0;t<se.length;t++)e.append("projectManager",se[t]);for(var s=0;s<$.length;s++)e.append("projectMembers",$[s]);for(var a=0;a<fe.length;a++)e.append("labels",fe[a]);e.append("description",R);for(var r=0;r<ze.length;r++)e.append("attachments",ze[r]);for(var i=0;i<je.length;i++)e.append("tasks",JSON.stringify(je[i]));var c={formData:e,token:null===n||void 0===n?void 0:n.accessToken};w((0,Z.o)(c)).then((function(e){var n,t=e.payload;return T?(N.Am.error(null===T||void 0===T||null===(n=T.error)||void 0===n?void 0:n.message),void w((0,y.Vg)())):500===(null===t||void 0===t?void 0:t.status)||400===(null===t||void 0===t?void 0:t.status)?(N.Am.error(null===t||void 0===t?void 0:t.message),void w((0,y.Vg)())):(N.Am.success(k),kn(),void qe(S.Hb.ADMIN.PROJECTS))}))},loading:D,spinnerSize:"13px",disabled:!1})}),(0,C.jsxs)("div",{className:v.Z.container,children:[(0,C.jsxs)("div",{className:v.Z.column,children:[(0,C.jsxs)("div",{className:v.Z.content,style:{padding:"8px 14px"},children:[(0,C.jsx)(c.Z,{placeholder:"Project Title",onChange:function(e){return L(e.target.value)},value:M,border:_e?"0.8px solid rgba(0, 101, 87, 0.5)":"none",onFocus:function(){return Oe(!0)},onBlur:function(){return Oe(!1)}}),(0,C.jsx)(u.Z,{placeholder:"Description...",style:{marginBottom:"14px",boxShadow:"none"},value:R,onChange:function(e){return P(e.target.value)},width:"100%"}),(0,C.jsxs)("div",{className:v.Z.coverPreview,children:[(0,C.jsx)(i.FD,{size:"16px",color:"#868686",style:{margin:"6px 10px"}}),(0,C.jsx)("input",{id:"cover",onChange:function(e){if(e.target.files){var n=URL.createObjectURL(e.target.files[0]);Cn(n),J(e.target.files[0])}},type:"file",className:v.Z.fileInput}),(0,C.jsx)("label",{htmlFor:"cover",className:v.Z.projectImage,children:(0,C.jsx)("img",{src:null!==Sn&&void 0!==Sn?Sn:j,alt:"project-image"})})]}),(0,C.jsxs)("div",{className:v.Z.type,children:[(0,C.jsx)("div",{style:{marginRight:"14px"},className:v.Z.managerText,children:"Public Project :"})," ",(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center"},onClick:function(){return Be(!Ee)},children:[(0,C.jsx)("span",{className:v.Z.managerText,children:"Yes"}),Ee?(0,C.jsx)(i.YJ,{size:"10",style:{marginLeft:"10px"}}):(0,C.jsx)(i.cb,{size:"11",style:{marginLeft:"10px"},color:"",borderColor:"#B0E4DD"})]})]}),(0,C.jsxs)("div",{className:v.Z.type,style:{margin:"16px 0"},children:[(0,C.jsx)("div",{style:{marginRight:"14px"},className:v.Z.managerText,children:"Ongoing Project :"})," ",(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center"},onClick:function(){return Xe(!Ue)},children:[(0,C.jsx)("span",{className:v.Z.managerText,children:"Yes"}),Ue?(0,C.jsx)(i.YJ,{size:"10",style:{marginLeft:"10px"}}):(0,C.jsx)(i.cb,{size:"11",style:{marginLeft:"10px"},color:"",borderColor:"#B0E4DD"})]})]}),(0,C.jsxs)("div",{className:v.Z.type,children:[(0,C.jsx)("span",{style:{marginRight:"3px"},className:v.Z.managerText,children:"Due Date:"}),(0,C.jsx)(c.Z,{border:"",style:{cursor:"pointer"},type:"date",value:Y,onChange:function(e){return H(e.target.value)}})]})]}),(0,C.jsxs)("div",{className:v.Z.content,children:[(0,C.jsx)("h3",{className:v.Z.membersText,children:"Project Manager(s)"}),(0,C.jsx)("div",{className:v.Z.selectedMembers,children:null===q||void 0===q?void 0:q.map((function(e){return(0,C.jsxs)("div",{className:v.Z.ownerMini,style:{margin:"10px 10px 0px 0"},children:[(0,C.jsx)(d.Z,{size:"18px",src:e.profileImage}),(0,C.jsx)("span",{style:{margin:"0 10px",fontSize:"11px"},children:"".concat(e.firstName," ").concat(e.lastName)}),(0,C.jsx)(i.Tw,{size:"8",onClick:function(){return function(e){var n=(0,g.E)(q,e);K(n);var t=(0,g.E)(se,e._id);ae(t)}(e)}})]},e._id)}))}),(0,C.jsx)(p.Z,{text:"Add Project Manager",renderIconLeft:function(){return(0,C.jsx)(i.Fu,{})},renderIconRight:function(){return(0,C.jsx)(i.C4,{})},options:null===e||void 0===e?void 0:e.data,id:"firstName",id2:"lastName",headerStyle:{padding:"14px"},handleOption:function(e){return function(e){ae((function(n){return[].concat((0,s.Z)(n),[e._id])})),K((function(n){return[].concat((0,s.Z)(n),[e])}))}(e)}})]}),(0,C.jsxs)("div",{className:v.Z.content,children:[(0,C.jsx)("h3",{className:v.Z.membersText,children:"Project Members"}),(0,C.jsx)("div",{className:v.Z.selectedMembers,children:null===ce||void 0===ce?void 0:ce.map((function(e){return(0,C.jsxs)("div",{className:v.Z.ownerMini,style:{margin:"10px 10px 0px 0"},children:[(0,C.jsx)(d.Z,{size:"18px",src:e.profileImage}),(0,C.jsx)("span",{style:{margin:"0 10px",fontSize:"11px"},children:"".concat(e.firstName," ").concat(e.lastName)}),(0,C.jsx)(i.Tw,{size:"8",onClick:function(){return function(e){var n=(0,g.E)(ce,e);le(n);var t=(0,g.E)($,e._id);ee(t)}(e)}})]},e._id)}))}),(0,C.jsx)(p.Z,{text:ln,renderIconLeft:function(){return(0,C.jsx)(i.rL,{})},options:null===e||void 0===e?void 0:e.data,id:"firstName",id2:"lastName",headerStyle:{padding:"14px 0",justifyContent:"flex-start",boxShadow:"none",marginTop:"10px"},textStyle:{marginLeft:"20px"},handleOption:function(e){return function(e){en(""),ce.includes(e)||$.includes(e._id)||(ee((function(n){return[].concat((0,s.Z)(n),[e._id])})),le((function(n){return[].concat((0,s.Z)(n),[e])})),on("Add Member"))}(e)},nullCheckValue:!1,headerRef:Tn})]}),(0,C.jsxs)("div",{className:v.Z.content,children:[(0,C.jsx)("div",{className:v.Z.labelHeader,children:(0,C.jsx)("h3",{className:v.Z.membersText,children:"Label"})}),o.o.map((function(e){return(0,C.jsxs)("div",{className:v.Z.projectType,onClick:function(){return function(e){var n=(0,s.Z)(fe);if(fe.includes(e.type)){var t=n.indexOf(e);n.splice(t,1),he(n),vn(null)}else vn(e.id),he((function(n){return[].concat((0,s.Z)(n),[e.type])}))}(e)},children:[(0,C.jsx)("span",{className:v.Z.typeText,children:e.type}),(0,C.jsx)(i.cb,{color:(hn===e.id||fe.includes(e.type))&&fe.length>0?"#003B33":"",style:{border:"1px solid #BDBDBD",borderRadius:"50%"},size:"14"})]},e.id)}))]})]}),(0,C.jsxs)("div",{className:v.Z.column,children:[(0,C.jsxs)("div",{className:v.Z.content,children:[(0,C.jsx)("div",{className:v.Z.membersText,children:"Create New Task"})," ",(0,C.jsx)(c.Z,{placeholder:"Task Title",onChange:function(e){return Se(e.target.value)},value:be,border:Ge?"0.8px solid rgba(0, 101, 87, 0.5)":"none",onFocus:function(){return Ve(!0)},onBlur:function(){return Ve(!1)}}),(0,C.jsx)(u.Z,{placeholder:"Describe Task",style:{marginBottom:"14px"},value:Zn,onChange:function(e){return Nn(e.target.value)}}),(0,C.jsx)("span",{style:{marginRight:"3px"},className:v.Z.managerText,children:"Due Date:"}),(0,C.jsx)(c.Z,{type:"date",value:ke,onChange:function(e){return De(e.target.value)},border:""}),(0,C.jsx)("div",{className:v.Z.selectedMembers,children:null===sn||void 0===sn?void 0:sn.map((function(e){return(0,C.jsxs)("div",{className:v.Z.ownerMini,style:{margin:"10px 10px 0px 0"},children:[(0,C.jsx)(d.Z,{size:"18px",src:e.profileImage}),(0,C.jsx)("span",{style:{margin:"0 10px",fontSize:"11px"},children:"".concat(e.firstName," ").concat(e.lastName)}),(0,C.jsx)(i.Tw,{size:"8",onClick:function(){return function(e){var n=(0,g.E)(sn,e);an(n);var t=(0,g.E)(ue,e._id);xe(t)}(e)}})]},e._id)}))}),(0,C.jsx)(p.Z,{text:xn,renderIconLeft:function(){return(0,C.jsx)(i.rL,{})},options:ce,id:"firstName",id2:"lastName",headerStyle:{padding:"14px 0",justifyContent:"flex-start",boxShadow:"none",marginTop:"5px",marginBottom:"10px"},textStyle:{marginLeft:"20px"},dropdownItemsStyle:{marginTop:"0px"},handleOption:function(e){return function(e){sn.includes(e)||ue.includes(e._id)||(an((function(n){return[].concat((0,s.Z)(n),[e])})),xe((function(n){return[].concat((0,s.Z)(n),[e._id])})),mn("Add Assignees"))}(e)},nullCheckValue:!1,errorText:$e,onHeaderClick:function(){if(0===ce.length)return en("Select at least one member"),void Tn.current.focus()}}),(0,C.jsx)(x.Z,{text:"Create Task",bgColor:"#006557",onClick:function(){Ze((function(e){return[].concat((0,s.Z)(e),[{name:be,date:ke,description:Zn,assignees:ue}])})),Nn(""),an([]),xe([]),Se("")}})]}),(0,C.jsxs)("div",{className:v.Z.content,children:[(0,C.jsx)("h3",{className:v.Z.membersText,children:"All Tasks"}),(0,C.jsx)("div",{className:v.Z.allTasks,children:null===je||void 0===je?void 0:je.map((function(e){return(0,C.jsxs)("div",{className:v.Z.task,children:[(0,C.jsx)("div",{className:v.Z.assigneeName,children:e.name}),(0,C.jsx)("div",{className:v.Z.assigneeName,children:e.date}),(0,C.jsx)("div",{className:v.Z.deleteTask,onClick:Dn,children:"Delete"})]},e.description)}))})]})]}),(0,C.jsx)("div",{className:v.Z.column,children:(0,C.jsxs)("div",{className:v.Z.content,children:[(0,C.jsx)("div",{className:"".concat(v.Z.membersText," ").concat(v.Z.attachText),children:"File Attachment"}),(0,C.jsx)(m.Z,{attachments:ze,onChange:function(e){ze.includes(e)||Ie((function(n){return[].concat((0,s.Z)(n),[e])}))},onDrop:wn,onDownload:function(e){var n=document.createElement("a");n.download=e,n.href="/downloaded-files.pdf",n.click()},coverImage:F,onDeleteAttachment:function(e){var n=(0,g.E)(ze,e);Ie(n)},onDeleteCover:function(e){Cn(null),J(null)},showDownload:!1})]})})]})]})}}}]);
//# sourceMappingURL=149.0d5f6e40.chunk.js.map